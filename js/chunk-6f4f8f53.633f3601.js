(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f4f8f53"],{"783f":function(t,n,e){"use strict";e.r(n);var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("el-row",{staticStyle:{"margin-bottom":"20px"}},[e("el-button",{attrs:{type:"primary"},on:{click:t.addData}},[t._v("新增数据源")])],1),e("el-table",{attrs:{data:t.connectList}},[e("el-table-column",{attrs:{prop:"_id",label:"id"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("span",[t._v(t._s(t._f("simplifyID")(n.row._id)))])]}}])}),e("el-table-column",{attrs:{prop:"name",label:"名称"}}),e("el-table-column",{attrs:{prop:"createdAt",label:"上传时间"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("span",[t._v(t._s(t.$dayjs(n.row.createdAt).format("YYYY-MM-DD HH:mm")))])]}}])}),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.renameData(n.row)}}},[t._v("重命名")]),e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.deleteData(n.row._id)}}},[t._v("删除")])]}}])})],1)],1)},c=[],o=(e("7f7f"),{props:["user"],data:function(){return{connectList:[]}},mounted:function(){this.getData()},filters:{simplifyID:function(t){return t.slice(-6)}},methods:{getData:function(){var t=this;this.$http.get("/connect?uid="+this.user.uid).then(function(n){var e=n.data,a=e.errno,c=e.data;0===a&&(t.connectList=c.connectList)}).catch(function(){})},addData:function(){this.$router.push("data/add")},renameData:function(t){var n=this;this.$prompt("输入大屏标题","重命名",{inputValue:t.name,confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(e){var a=e.value;n.$http.put("/connect/".concat(t._id),{name:a}).then(function(t){var e=t.data,a=e.errno;e.data;0===a&&(n.$message({type:"success",message:"保存成功"}),setTimeout(function(){n.getData()},100))}).catch(function(){})}).catch(function(){})},deleteData:function(t){var n=this;this.$confirm("是否删除当前数据源？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.$http.delete("/connect/".concat(t)).then(function(t){var e=t.data,a=e.errno;e.data;0===a&&(n.$message({type:"success",message:"已删除"}),setTimeout(function(){n.getData()},100))})}).catch(function(){})}}}),i=o,r=e("2877"),u=Object(r["a"])(i,a,c,!1,null,"280d7468",null);n["default"]=u.exports},"7f7f":function(t,n,e){var a=e("86cc").f,c=Function.prototype,o=/^\s*function ([^ (]*)/,i="name";i in c||e("9e1e")&&a(c,i,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=chunk-6f4f8f53.633f3601.js.map