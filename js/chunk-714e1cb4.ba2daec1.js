(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-714e1cb4"],{"3ef7":function(t,e,a){},"721a":function(t,e,a){"use strict";var n=a("3ef7"),i=a.n(n);i.a},c938:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:"数据统计",visible:t.analyseVisible,width:"400px"},on:{"update:visible":function(e){t.analyseVisible=e}}},[a("el-table",{attrs:{data:t.analyseData,"show-header":!1}},[a("el-table-column",{attrs:{property:"key"}}),a("el-table-column",{attrs:{property:"value"}})],1)],1),a("el-row",{attrs:{gutter:36}},[t._l(t.chartList,function(e){return a("el-col",{key:e._id,attrs:{span:6}},[a("el-card",{attrs:{"body-style":{padding:"0px"},shadow:"hover"},nativeOn:{click:function(a){return t.editChart(e._id)}}},[a("img",{staticClass:"image",attrs:{src:e.img}}),a("div",{staticStyle:{padding:"14px"}},[a("span",[t._v(t._s(e.title))]),a("el-dropdown",{staticStyle:{float:"right"}},[a("i",{staticClass:"el-icon-more"}),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(a){return t.editChart(e._id)}}},[t._v("编辑")]),a("el-dropdown-item",{nativeOn:{click:function(a){return t.renameChart(e)}}},[t._v("重命名")]),a("el-dropdown-item",{nativeOn:{click:function(a){return t.copyChart(e)}}},[t._v("复制")]),a("el-dropdown-item",{nativeOn:{click:function(a){return t.deleteChart(e._id)}}},[t._v("删除")]),a("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(a){return t.viewChart(e._id)}}},[t._v("访问")]),a("el-dropdown-item",{nativeOn:{click:function(a){return t.openChartAnalyse(e)}}},[t._v("查看统计")])],1)],1)],1)])],1)}),a("el-col",{attrs:{span:6}},[a("el-card",{attrs:{"body-style":{padding:"0px"},shadow:"hover"},nativeOn:{click:function(e){return t.addNewChart(e)}}},[a("div",{staticClass:"add-card"},[a("i",{staticClass:"el-icon-circle-plus"})])])],1)],2)],1)},i=[],c={props:["user"],data:function(){return{chartList:[],analyseData:[],analyseVisible:!1}},mounted:function(){this.getData()},methods:{getData:function(){var t=this;this.$http.get("/chart?uid="+this.user.uid).then(function(e){var a=e.data,n=a.errno,i=a.data;0===n&&(t.chartList=i.chartList)}).catch(function(){})},editChart:function(t){this.$router.push("/edit/".concat(t))},addNewChart:function(){var t=this;this.$prompt("输入大屏标题","创建大屏项目",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(e){var a=e.value;t.$http.post("/chart",{title:a,uid:t.user.uid}).then(function(e){var a=e.data,n=a.errno,i=a.data;0===n&&(t.$message({type:"success",message:"创建成功"}),t.editChart(i._id))}).catch(function(){})}).catch(function(){})},renameChart:function(t){var e=this;this.$prompt("输入大屏标题","重命名",{inputValue:t.title,confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(a){var n=a.value;e.$http.put("/chart/".concat(t._id),{title:n}).then(function(t){var a=t.data,n=a.errno;a.data;0===n&&(e.$message({type:"success",message:"保存成功"}),setTimeout(function(){e.getData()},100))}).catch(function(){})}).catch(function(){})},copyChart:function(t){var e=this;this.$prompt("输入大屏标题","复制大屏项目",{inputValue:t.title+"_复制",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(a){var n=a.value;e.$http.post("/chart/import/".concat(t._id),{title:n,uid:e.user.uid}).then(function(t){var a=t.data,n=a.errno;a.data;0===n&&(e.$message({type:"success",message:"创建成功"}),e.getData())}).catch(function(){})}).catch(function(){})},deleteChart:function(t){var e=this;this.$confirm("是否删除大屏项目？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$http.delete("/chart/".concat(t)).then(function(t){var a=t.data,n=a.errno;a.data;0===n&&(e.$message({type:"success",message:"已删除"}),setTimeout(function(){e.getData()},100))})}).catch(function(){})},viewChart:function(t){this.$router.push("/view/".concat(t))},openChartAnalyse:function(t){this.analyseVisible=!0,this.analyseData=[{key:"创建时间",value:this.$dayjs(t.createdAt).format("YYYY-MM-DD HH:mm")},{key:"修改时间",value:this.$dayjs(t.updatedAt).format("YYYY-MM-DD HH:mm")},{key:"访问人数",value:t.view}]}}},r=c,o=(a("721a"),a("2877")),s=Object(o["a"])(r,n,i,!1,null,"393af666",null);e["default"]=s.exports}}]);
//# sourceMappingURL=chunk-714e1cb4.ba2daec1.js.map